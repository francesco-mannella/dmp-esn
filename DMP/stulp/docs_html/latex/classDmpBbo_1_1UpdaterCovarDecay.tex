\hypertarget{classDmpBbo_1_1UpdaterCovarDecay}{\subsection{Updater\+Covar\+Decay Class Reference}
\label{classDmpBbo_1_1UpdaterCovarDecay}\index{Updater\+Covar\+Decay@{Updater\+Covar\+Decay}}
}


\hyperlink{classDmpBbo_1_1Updater}{Updater} that updates the mean and decreases the size of the covariance matrix over time.  




{\ttfamily \#include $<$Updater\+Covar\+Decay.\+hpp$>$}



Inheritance diagram for Updater\+Covar\+Decay\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=193pt]{classDmpBbo_1_1UpdaterCovarDecay__inherit__graph}
\end{center}
\end{figure}


Collaboration diagram for Updater\+Covar\+Decay\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=193pt]{classDmpBbo_1_1UpdaterCovarDecay__coll__graph}
\end{center}
\end{figure}
\subsubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\hyperlink{classDmpBbo_1_1UpdaterCovarDecay_a51e57f2c597f88e95f2e2159ff40dc00}{Updater\+Covar\+Decay} (double eliteness, double covar\+\_\+decay\+\_\+factor=0.\+95, std\+::string weighting\+\_\+method=\char`\"{}P\+I-\/B\+B\char`\"{})
\begin{DoxyCompactList}\small\item\em Constructor. \end{DoxyCompactList}\item 
void \hyperlink{classDmpBbo_1_1UpdaterCovarDecay_aabb65aaf08049416ed18b294d5fca415}{update\+Distribution} (const \hyperlink{classDmpBbo_1_1DistributionGaussian}{Distribution\+Gaussian} \&distribution, const Eigen\+::\+Matrix\+Xd \&samples, const Eigen\+::\+Vector\+Xd \&costs, Eigen\+::\+Vector\+Xd \&weights, \hyperlink{classDmpBbo_1_1DistributionGaussian}{Distribution\+Gaussian} \&distribution\+\_\+new) const 
\begin{DoxyCompactList}\small\item\em Update a distribution given the samples and costs of an epoch. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsubsection*{Friends}
\begin{DoxyCompactItemize}
\item 
class \hyperlink{classDmpBbo_1_1UpdaterCovarDecay_ac98d07dd8f7b70e16ccb9a01abf56b9c}{boost\+::serialization\+::access}
\begin{DoxyCompactList}\small\item\em Give boost serialization access to private members. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsubsection*{Additional Inherited Members}


\subsubsection{Detailed Description}
\hyperlink{classDmpBbo_1_1Updater}{Updater} that updates the mean and decreases the size of the covariance matrix over time. 

Definition at line 36 of file Updater\+Covar\+Decay.\+hpp.



\subsubsection{Constructor \& Destructor Documentation}
\hypertarget{classDmpBbo_1_1UpdaterCovarDecay_a51e57f2c597f88e95f2e2159ff40dc00}{\index{Dmp\+Bbo\+::\+Updater\+Covar\+Decay@{Dmp\+Bbo\+::\+Updater\+Covar\+Decay}!Updater\+Covar\+Decay@{Updater\+Covar\+Decay}}
\index{Updater\+Covar\+Decay@{Updater\+Covar\+Decay}!Dmp\+Bbo\+::\+Updater\+Covar\+Decay@{Dmp\+Bbo\+::\+Updater\+Covar\+Decay}}
\paragraph[{Updater\+Covar\+Decay}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Updater\+Covar\+Decay} (
\begin{DoxyParamCaption}
\item[{double}]{eliteness, }
\item[{double}]{covar\+\_\+decay\+\_\+factor = {\ttfamily 0.95}, }
\item[{std\+::string}]{weighting\+\_\+method = {\ttfamily \char`\"{}PI-\/BB\char`\"{}}}
\end{DoxyParamCaption}
)}}\label{classDmpBbo_1_1UpdaterCovarDecay_a51e57f2c597f88e95f2e2159ff40dc00}


Constructor. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em eliteness} & The eliteness parameter ('mu' in C\+M\+A-\/\+E\+S, 'h' in P\+I$^\wedge$2) \\
\hline
\mbox{\tt in}  & {\em covar\+\_\+decay\+\_\+factor} & The covar matrix shrinks at each update with C$^\wedge$new = covar\+\_\+decay\+\_\+factor$^\wedge$2 $\ast$ C. It should be in the range $<$0-\/1\mbox{]} \\
\hline
\mbox{\tt in}  & {\em weighting\+\_\+method} & ('P\+I-\/\+B\+B' = P\+I$^\wedge$2 style weighting) \\
\hline
\end{DoxyParams}


Definition at line 41 of file Updater\+Covar\+Decay.\+cpp.


\begin{DoxyCode}
42 : \hyperlink{classDmpBbo_1_1UpdaterMean_a005e77ab55b2412bb2172b52bf263570}{UpdaterMean}(eliteness, weighting\_method), 
43   covar\_decay\_factor\_(covar\_decay\_factor)
44 \{
45   
46   \textcolor{comment}{// Do some checks here}
47   \textcolor{keywordflow}{if} (covar\_decay\_factor\_<=0 || covar\_decay\_factor\_>=1)
48   \{
49     \textcolor{keywordtype}{double} default\_covar\_decay\_factor = 0.95;
50     cout << \_\_FILE\_\_ << \textcolor{stringliteral}{":"} << \_\_LINE\_\_ << \textcolor{stringliteral}{":Covar decay must be in range <0-1>, but it is "} << 
      covar\_decay\_factor\_ << \textcolor{stringliteral}{". Setting to default: "} << default\_covar\_decay\_factor << endl;
51     covar\_decay\_factor\_ = default\_covar\_decay\_factor;
52   \}
53 
54 \}
\end{DoxyCode}


\subsubsection{Member Function Documentation}
\hypertarget{classDmpBbo_1_1UpdaterCovarDecay_aabb65aaf08049416ed18b294d5fca415}{\index{Dmp\+Bbo\+::\+Updater\+Covar\+Decay@{Dmp\+Bbo\+::\+Updater\+Covar\+Decay}!update\+Distribution@{update\+Distribution}}
\index{update\+Distribution@{update\+Distribution}!Dmp\+Bbo\+::\+Updater\+Covar\+Decay@{Dmp\+Bbo\+::\+Updater\+Covar\+Decay}}
\paragraph[{update\+Distribution}]{\setlength{\rightskip}{0pt plus 5cm}void update\+Distribution (
\begin{DoxyParamCaption}
\item[{const {\bf Distribution\+Gaussian} \&}]{distribution, }
\item[{const Eigen\+::\+Matrix\+Xd \&}]{samples, }
\item[{const Eigen\+::\+Vector\+Xd \&}]{costs, }
\item[{Eigen\+::\+Vector\+Xd \&}]{weights, }
\item[{{\bf Distribution\+Gaussian} \&}]{distribution\+\_\+new}
\end{DoxyParamCaption}
) const\hspace{0.3cm}{\ttfamily [virtual]}}}\label{classDmpBbo_1_1UpdaterCovarDecay_aabb65aaf08049416ed18b294d5fca415}


Update a distribution given the samples and costs of an epoch. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em distribution} & Current distribution \\
\hline
\mbox{\tt in}  & {\em samples} & The samples in the epoch (size\+: n\+\_\+samples X n\+\_\+dims) \\
\hline
\mbox{\tt in}  & {\em costs} & Costs of the samples (size\+: n\+\_\+samples x 1) \\
\hline
\mbox{\tt out}  & {\em weights} & The weights computed from the costs \\
\hline
\mbox{\tt out}  & {\em distribution\+\_\+new} & Updated distribution \\
\hline
\end{DoxyParams}


Reimplemented from \hyperlink{classDmpBbo_1_1UpdaterMean_aabb65aaf08049416ed18b294d5fca415}{Updater\+Mean}.



Definition at line 56 of file Updater\+Covar\+Decay.\+cpp.


\begin{DoxyCode}
57 \{
58   \textcolor{comment}{// Update the mean}
59   VectorXd mean\_new;
60   \hyperlink{classDmpBbo_1_1UpdaterMean_a97c2ddfabeee67dba0044f405f4ce8c0}{updateDistributionMean}(distribution.mean(), samples, costs, weights, mean\_new); 
61   distribution\_new.set\_mean(mean\_new);
62   
63   \textcolor{comment}{// Update the covariance matrix}
64   distribution\_new.set\_covar(covar\_decay\_factor\_*covar\_decay\_factor\_*distribution.covar());
65   
66 \}
\end{DoxyCode}


Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classDmpBbo_1_1UpdaterCovarDecay_aabb65aaf08049416ed18b294d5fca415_cgraph}
\end{center}
\end{figure}




\subsubsection{Friends And Related Function Documentation}
\hypertarget{classDmpBbo_1_1UpdaterCovarDecay_ac98d07dd8f7b70e16ccb9a01abf56b9c}{\index{Dmp\+Bbo\+::\+Updater\+Covar\+Decay@{Dmp\+Bbo\+::\+Updater\+Covar\+Decay}!boost\+::serialization\+::access@{boost\+::serialization\+::access}}
\index{boost\+::serialization\+::access@{boost\+::serialization\+::access}!Dmp\+Bbo\+::\+Updater\+Covar\+Decay@{Dmp\+Bbo\+::\+Updater\+Covar\+Decay}}
\paragraph[{boost\+::serialization\+::access}]{\setlength{\rightskip}{0pt plus 5cm}friend class boost\+::serialization\+::access\hspace{0.3cm}{\ttfamily [friend]}}}\label{classDmpBbo_1_1UpdaterCovarDecay_ac98d07dd8f7b70e16ccb9a01abf56b9c}


Give boost serialization access to private members. 



Definition at line 56 of file Updater\+Covar\+Decay.\+hpp.



The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
\hyperlink{UpdaterCovarDecay_8hpp}{Updater\+Covar\+Decay.\+hpp}\item 
\hyperlink{UpdaterCovarDecay_8cpp}{Updater\+Covar\+Decay.\+cpp}\end{DoxyCompactItemize}
