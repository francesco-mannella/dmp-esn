\hypertarget{demoDmpTrainFromTrajectoryFile_8cpp}{\subsection{demo\+Dmp\+Train\+From\+Trajectory\+File.\+cpp File Reference}
\label{demoDmpTrainFromTrajectoryFile_8cpp}\index{demo\+Dmp\+Train\+From\+Trajectory\+File.\+cpp@{demo\+Dmp\+Train\+From\+Trajectory\+File.\+cpp}}
}
{\ttfamily \#include \char`\"{}dmp/\+Dmp.\+hpp\char`\"{}}\\*
{\ttfamily \#include \char`\"{}dmp/\+Trajectory.\+hpp\char`\"{}}\\*
{\ttfamily \#include \char`\"{}dynamicalsystems/\+Dynamical\+System.\+hpp\char`\"{}}\\*
{\ttfamily \#include \char`\"{}dynamicalsystems/\+Exponential\+System.\+hpp\char`\"{}}\\*
{\ttfamily \#include \char`\"{}dynamicalsystems/\+Sigmoid\+System.\+hpp\char`\"{}}\\*
{\ttfamily \#include \char`\"{}dynamicalsystems/\+Time\+System.\+hpp\char`\"{}}\\*
{\ttfamily \#include \char`\"{}dynamicalsystems/\+Spring\+Damper\+System.\+hpp\char`\"{}}\\*
{\ttfamily \#include \char`\"{}functionapproximators/\+Function\+Approximator\+L\+W\+R.\+hpp\char`\"{}}\\*
{\ttfamily \#include \char`\"{}functionapproximators/\+Meta\+Parameters\+L\+W\+R.\+hpp\char`\"{}}\\*
{\ttfamily \#include \char`\"{}functionapproximators/\+Model\+Parameters\+L\+W\+R.\+hpp\char`\"{}}\\*
{\ttfamily \#include $<$iostream$>$}\\*
{\ttfamily \#include $<$fstream$>$}\\*
Include dependency graph for demo\+Dmp\+Train\+From\+Trajectory\+File.\+cpp\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{demoDmpTrainFromTrajectoryFile_8cpp__incl}
\end{center}
\end{figure}
\subsubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
int \hyperlink{demoDmpTrainFromTrajectoryFile_8cpp_a22577c6525b3f2fefecc0c741ba46a9a}{main} (int n\+\_\+args, char $\ast$$\ast$args)
\begin{DoxyCompactList}\small\item\em Main function. \end{DoxyCompactList}\end{DoxyCompactItemize}


\subsubsection{Detailed Description}
\begin{DoxyAuthor}{Author}
Freek Stulp
\end{DoxyAuthor}
This file is part of Dmp\+Bbo, a set of libraries and programs for the black-\/box optimization of dynamical movement primitives. Copyright (C) 2014 Freek Stulp, E\+N\+S\+T\+A-\/\+Paris\+Tech

Dmp\+Bbo is free software\+: you can redistribute it and/or modify it under the terms of the G\+N\+U Lesser General Public License as published by the Free Software Foundation, either version 2 of the License, or (at your option) any later version.

Dmp\+Bbo is distributed in the hope that it will be useful, but W\+I\+T\+H\+O\+U\+T A\+N\+Y W\+A\+R\+R\+A\+N\+T\+Y; without even the implied warranty of M\+E\+R\+C\+H\+A\+N\+T\+A\+B\+I\+L\+I\+T\+Y or F\+I\+T\+N\+E\+S\+S F\+O\+R A P\+A\+R\+T\+I\+C\+U\+L\+A\+R P\+U\+R\+P\+O\+S\+E. See the G\+N\+U Lesser General Public License for more details.

You should have received a copy of the G\+N\+U Lesser General Public License along with Dmp\+Bbo. If not, see \href{http://www.gnu.org/licenses/}{\tt http\+://www.\+gnu.\+org/licenses/}. 

Definition in file \hyperlink{demoDmpTrainFromTrajectoryFile_8cpp_source}{demo\+Dmp\+Train\+From\+Trajectory\+File.\+cpp}.



\subsubsection{Function Documentation}
\hypertarget{demoDmpTrainFromTrajectoryFile_8cpp_a22577c6525b3f2fefecc0c741ba46a9a}{\index{demo\+Dmp\+Train\+From\+Trajectory\+File.\+cpp@{demo\+Dmp\+Train\+From\+Trajectory\+File.\+cpp}!main@{main}}
\index{main@{main}!demo\+Dmp\+Train\+From\+Trajectory\+File.\+cpp@{demo\+Dmp\+Train\+From\+Trajectory\+File.\+cpp}}
\paragraph[{main}]{\setlength{\rightskip}{0pt plus 5cm}int main (
\begin{DoxyParamCaption}
\item[{int}]{n\+\_\+args, }
\item[{char $\ast$$\ast$}]{args}
\end{DoxyParamCaption}
)}}\label{demoDmpTrainFromTrajectoryFile_8cpp_a22577c6525b3f2fefecc0c741ba46a9a}


Main function. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em n\+\_\+args} & Number of arguments \\
\hline
\mbox{\tt in}  & {\em args} & Arguments themselves \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Success of exection. 0 if successful. 
\end{DoxyReturn}


Definition at line 49 of file demo\+Dmp\+Train\+From\+Trajectory\+File.\+cpp.


\begin{DoxyCode}
50 \{
51   \textcolor{keywordtype}{string} input\_txt\_file(\textcolor{stringliteral}{"trajectory.txt"});
52   \textcolor{keywordtype}{string} output\_xml\_file(\textcolor{stringliteral}{"/tmp/dmp.xml"});
53   \textcolor{keywordflow}{if} (n\_args>1)
54     input\_txt\_file = string(args[1]);
55   \textcolor{keywordflow}{if} (n\_args>2)
56     output\_xml\_file = string(args[2]);
57     
58   
59   cout << \textcolor{stringliteral}{"Reading trajectory from TXT file: "} << input\_txt\_file << endl;
60   \hyperlink{classDmpBbo_1_1Trajectory}{Trajectory} trajectory = Trajectory::readFromFile(input\_txt\_file);
61 
62   \textcolor{comment}{//double tau = trajectory.duration();}
63   \textcolor{comment}{//int n\_time\_steps = trajectory.length();}
64   VectorXd ts = trajectory.\hyperlink{classDmpBbo_1_1Trajectory_a0ac526fb2e2e77134906a4b657d795d2}{ts}(); \textcolor{comment}{// Time steps}
65   \textcolor{keywordtype}{int} n\_dims = trajectory.\hyperlink{classDmpBbo_1_1Trajectory_a6f628f7f4ed9d77bf69f5b8560b98f18}{dim}();
66 
67   
68   \textcolor{comment}{// Initialize some meta parameters for training LWR function approximator}
69   \textcolor{keywordtype}{int} n\_basis\_functions = 3;
70   \textcolor{keywordtype}{int} input\_dim = 1;
71   \textcolor{keywordtype}{double} intersection = 0.56;
72   \hyperlink{classDmpBbo_1_1MetaParametersLWR}{MetaParametersLWR}* meta\_parameters = \textcolor{keyword}{new} \hyperlink{classDmpBbo_1_1MetaParametersLWR}{MetaParametersLWR}(input\_dim,
      n\_basis\_functions,intersection);      
73   \hyperlink{classDmpBbo_1_1FunctionApproximatorLWR}{FunctionApproximatorLWR}* fa\_lwr = \textcolor{keyword}{new} 
      \hyperlink{classDmpBbo_1_1FunctionApproximatorLWR}{FunctionApproximatorLWR}(meta\_parameters);  
74   
75   \textcolor{comment}{// Clone the function approximator for each dimension of the DMP}
76   vector<FunctionApproximator*> function\_approximators(n\_dims);    
77   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} dd=0; dd<n\_dims; dd++)
78     function\_approximators[dd] = fa\_lwr->\hyperlink{classDmpBbo_1_1FunctionApproximatorLWR_ad792a46ac006916c5c1ffed2fa42dd24}{clone}();
79   
80   \textcolor{comment}{// Initialize the DMP}
81   \hyperlink{classDmpBbo_1_1Dmp}{Dmp}* dmp = \textcolor{keyword}{new} \hyperlink{classDmpBbo_1_1Dmp}{Dmp}(n\_dims, function\_approximators, Dmp::KULVICIUS\_2012\_JOINING);
82 
83   cout << \textcolor{stringliteral}{"Training Dmp..."} << endl;
84   dmp->\hyperlink{classDmpBbo_1_1Dmp_a5d14dedc6736ec5675b4026437b8a597}{train}(trajectory);
85 
86   cout << \textcolor{stringliteral}{"Writing trained Dmp to XML file: "} << output\_xml\_file << endl;
87   std::ofstream ofs(output\_xml\_file);
88   boost::archive::xml\_oarchive oa(ofs);
89   oa << boost::serialization::make\_nvp(\textcolor{stringliteral}{"dmp"},dmp);
90   ofs.close();
91     
92   \textcolor{keyword}{delete} meta\_parameters;
93   \textcolor{keyword}{delete} fa\_lwr;
94   \textcolor{keyword}{delete} dmp;
95 
96   \textcolor{keywordflow}{return} 0;
97 \}
\end{DoxyCode}


Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{demoDmpTrainFromTrajectoryFile_8cpp_a22577c6525b3f2fefecc0c741ba46a9a_cgraph}
\end{center}
\end{figure}


